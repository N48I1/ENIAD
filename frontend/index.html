<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ENIAD Digital Certificate Verification System">
    <title>ENIAD | Blockchain Certificates</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Outfit', 'sans-serif'],
                    },
                    colors: {
                        primary: '#6366f1', // Indigo 500
                        secondary: '#a855f7', // Purple 500
                        dark: '#0f172a', // Slate 900
                    }
                }
            }
        }
    </script>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400;1,600&display=swap"
        rel="stylesheet">

    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcode-generator@1.4.4/qrcode.min.js"></script>

    <!-- Icons -->
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

    <!-- Custom Config -->
    <style>
        body {
            font-family: 'Outfit', sans-serif;
        }

        .glass {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .glass-header {
            background: rgba(15, 23, 42, 0.7);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        /* Toast Animation */
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .toast-enter {
            animation: slideIn 0.3s ease forwards;
        }

        /* Animated Background */
        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: linear-gradient(-45deg, #0a0f1a, #1a1f3a, #0f172a, #1e293b);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }

        .animated-bg::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at 20% 50%, rgba(201, 162, 39, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 20%, rgba(99, 102, 241, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse at 40% 80%, rgba(139, 92, 246, 0.06) 0%, transparent 50%);
            animation: glowMove 20s ease-in-out infinite;
        }

        @keyframes gradientShift {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        @keyframes glowMove {

            0%,
            100% {
                transform: translate(0, 0) scale(1);
                opacity: 1;
            }

            33% {
                transform: translate(30px, -20px) scale(1.05);
                opacity: 0.8;
            }

            66% {
                transform: translate(-20px, 30px) scale(0.95);
                opacity: 1.2;
            }
        }

        /* 3D Certificate Demo Styles - Landscape A4 */
        .certificate-3d-container {
            perspective: 1200px;
            width: 100%;
            height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .certificate-3d {
            width: 480px;
            height: 340px;
            position: relative;
            transform-style: preserve-3d;
            animation: subtleTilt 8s ease-in-out infinite;
        }

        .certificate-3d-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 8px;
            box-shadow: 0 30px 60px -15px rgba(201, 162, 39, 0.4),
                0 0 100px rgba(184, 150, 43, 0.15),
                0 0 40px rgba(201, 162, 39, 0.1);
        }

        .certificate-3d-front {
            background: linear-gradient(145deg, #fffef7 0%, #faf6e8 100%);
            border: 4px solid #c9a227;
            outline: 2px solid #1e3a5f;
            outline-offset: 4px;
            padding: 16px 24px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .certificate-3d-back {
            background: linear-gradient(145deg, #1e3a5f 0%, #2d4a6f 100%);
            transform: rotateY(180deg);
            display: flex;
            align-items: center;
            justify-content: center;
            border: 3px solid rgba(201, 162, 39, 0.4);
        }

        /* Slow bouncing animation */
        @keyframes subtleTilt {

            0%,
            100% {
                transform: translateY(0px) rotateX(2deg) rotateY(-5deg);
            }

            50% {
                transform: translateY(-25px) rotateX(2deg) rotateY(-5deg);
            }
        }

        .certificate-3d:hover {
            animation-play-state: paused;
            transform: translateY(-25px) rotateX(0deg) rotateY(0deg) scale(1.02);
            transition: transform 0.5s ease;
        }

        /* Floating particles */
        .particle {
            position: absolute;
            width: 8px;
            height: 8px;
            background: linear-gradient(135deg, #c9a227, #ffd700);
            border-radius: 50%;
            opacity: 0.6;
            animation: floatParticle 6s ease-in-out infinite;
        }

        .particle:nth-child(1) {
            top: 10%;
            left: 10%;
            animation-delay: 0s;
        }

        .particle:nth-child(2) {
            top: 20%;
            right: 15%;
            animation-delay: 1s;
        }

        .particle:nth-child(3) {
            bottom: 25%;
            left: 20%;
            animation-delay: 2s;
        }

        .particle:nth-child(4) {
            bottom: 15%;
            right: 10%;
            animation-delay: 3s;
        }

        .particle:nth-child(5) {
            top: 50%;
            left: 5%;
            animation-delay: 4s;
        }

        @keyframes floatParticle {

            0%,
            100% {
                transform: translate(0, 0) scale(1);
                opacity: 0.6;
            }

            25% {
                transform: translate(10px, -15px) scale(1.2);
                opacity: 0.8;
            }

            50% {
                transform: translate(-5px, -25px) scale(0.8);
                opacity: 0.4;
            }

            75% {
                transform: translate(15px, -10px) scale(1.1);
                opacity: 0.7;
            }
        }

        /* Glowing ring around certificate - matches certificate exactly */
        .glow-ring {
            position: absolute;
            inset: -8px;
            border-radius: 12px;
            background: transparent;
            border: 2px solid transparent;
            background-image: linear-gradient(rgba(15, 23, 42, 0.8), rgba(15, 23, 42, 0.8)),
                linear-gradient(135deg, #c9a227 0%, #ffd700 50%, #c9a227 100%);
            background-origin: border-box;
            background-clip: padding-box, border-box;
            animation: glowPulse 3s ease-in-out infinite;
            pointer-events: none;
            z-index: -1;
        }

        @keyframes glowPulse {

            0%,
            100% {
                box-shadow: 0 0 20px rgba(201, 162, 39, 0.3), 0 0 40px rgba(255, 215, 0, 0.2);
            }

            50% {
                box-shadow: 0 0 40px rgba(201, 162, 39, 0.5), 0 0 80px rgba(255, 215, 0, 0.3);
            }
        }

        /* Signature styles */
        .signature-text {
            font-family: 'Brush Script MT', 'Segoe Script', cursive;
            font-size: 18px;
            color: #1e3a5f;
        }

        /* Hash footer box */
        .hash-footer {
            background: linear-gradient(135deg, #faf6e8 0%, #f5ecd7 100%);
            border: 2px solid #c9a227;
            border-radius: 8px;
            padding: 8px 12px;
        }

        /* Floating particles - gold theme */
        .particle {
            position: absolute;
            width: 8px;
            height: 8px;
            background: linear-gradient(135deg, #c9a227, #ffd700);
            border-radius: 50%;
            opacity: 0.6;
            animation: floatParticle 6s ease-in-out infinite;
        }

        /* Admin Tab Styles */
        .admin-tab {
            color: #9ca3af;
            background: transparent;
        }

        .admin-tab:hover {
            color: #ffffff;
            background: rgba(255, 255, 255, 0.05);
        }

        .admin-tab.active {
            color: #ffffff;
            background: linear-gradient(135deg, #c9a227, #b8962b);
            box-shadow: 0 4px 15px rgba(201, 162, 39, 0.3);
        }

        .admin-panel {
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(8px);
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: linear-gradient(145deg, #1e293b 0%, #0f172a 100%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 8px;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            transform: scale(0.8) translateY(50px);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 25px 100px rgba(99, 102, 241, 0.3),
                0 0 0 1px rgba(255, 255, 255, 0.05);
        }

        .modal-overlay.active .modal-content {
            transform: scale(1) translateY(0);
        }

        .modal-close-btn {
            position: absolute;
            top: -12px;
            right: -12px;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ef4444, #dc2626);
            border: 2px solid rgba(255, 255, 255, 0.2);
            color: white;
            font-size: 18px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            z-index: 10;
        }

        .modal-close-btn:hover {
            transform: scale(1.1) rotate(90deg);
            background: linear-gradient(135deg, #dc2626, #b91c1c);
        }

        /* Certificate badge animation */
        .verified-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: linear-gradient(135deg, #10b981, #059669);
            border-radius: 50px;
            color: white;
            font-weight: 600;
            font-size: 14px;
            animation: badgePop 0.5s ease;
        }

        @keyframes badgePop {
            0% {
                transform: scale(0);
                opacity: 0;
            }

            50% {
                transform: scale(1.2);
            }

            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        /* Shimmer effect on demo certificate */
        /* Shimmer effect - disabled */
        .shimmer {
            display: none;
        }

        @keyframes shimmer {
            0% {
                left: -100%;
            }

            50%,
            100% {
                left: 100%;
            }
        }
    </style>
</head>

<body
    class="bg-gray-900 text-white min-h-screen relative overflow-x-hidden selection:bg-indigo-500 selection:text-white">

    <!-- Background Gradient -->
    <div class="fixed inset-0 pointer-events-none z-0">
        <div class="absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-indigo-600/20 rounded-full blur-[120px]"></div>
        <div class="absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-purple-600/20 rounded-full blur-[120px]">
        </div>
    </div>

    <!-- Animated Background -->
    <div class="animated-bg"></div>

    <!-- Toast Container -->
    <div id="toastContainer" class="fixed top-24 right-5 z-50 flex flex-col gap-3"></div>

    <!-- Top Navigation -->
    <nav class="fixed top-0 left-0 w-full z-40 glass-header">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20">
                <!-- Logo -->
                <div class="flex items-center gap-3">
                    <div
                        class="w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg shadow-indigo-500/20">
                        <ion-icon name="ribbon-outline" class="text-xl text-white"></ion-icon>
                    </div>
                    <div>
                        <h1 class="font-bold text-xl tracking-wide">ENIAD</h1>
                        <p class="text-[0.65rem] text-gray-400 uppercase tracking-wider font-medium">Digital
                            Certificates</p>
                    </div>
                </div>

                <!-- Desktop Menu -->
                <div class="hidden md:flex items-center gap-1 bg-white/5 rounded-full p-1 border border-white/5">
                    <button
                        class="nav-btn px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:bg-white/10 text-gray-300 hover:text-white"
                        data-tab="home">
                        Home
                    </button>
                    <button
                        class="nav-btn px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:bg-white/10 text-gray-300 hover:text-white"
                        data-tab="about">
                        About
                    </button>
                    <button
                        class="nav-btn px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:bg-white/10 text-gray-300 hover:text-white"
                        data-tab="admin">
                        Admin
                    </button>
                </div>

                <!-- Connect Wallet Area -->
                <div class="flex items-center gap-3">
                    <!-- Role Badge (Hidden until connected) -->
                    <span id="roleBadge"
                        class="hidden px-3 py-1 text-xs font-bold uppercase rounded-full border"></span>

                    <div id="networkStatus" class="hidden sm:block text-xs font-mono text-gray-500">
                        <span class="w-2 h-2 rounded-full bg-red-500 inline-block mr-1"></span> Not Connected
                    </div>
                    <button id="connectWalletBtn"
                        class="flex items-center gap-2 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white px-5 py-2.5 rounded-xl text-sm font-medium transition-all shadow-lg shadow-indigo-500/20 ring-1 ring-white/20">
                        <ion-icon name="wallet-outline"></ion-icon>
                        <span id="walletBtnText">Connect Wallet</span>
                    </button>
                </div>

                <!-- Mobile Menu Button -->
                <button id="mobileMenuBtn" class="md:hidden text-2xl text-gray-300 hover:text-white">
                    <ion-icon name="menu-outline"></ion-icon>
                </button>
            </div>
        </div>
    </nav>

    <!-- Admin Warning Overlay (Shows only when accessing Admin without permission) -->
    <div id="adminLoginOverlay"
        class="hidden fixed inset-0 z-50 bg-gray-900/90 backdrop-blur-sm flex items-center justify-center p-4">
        <div class="bg-gray-800 border border-red-500/30 rounded-2xl p-8 max-w-md text-center shadow-2xl">
            <div
                class="w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mx-auto mb-6 text-red-500 text-3xl">
                <ion-icon name="lock-closed"></ion-icon>
            </div>
            <h3 class="text-xl font-bold text-white mb-2">Restricted Access</h3>
            <p class="text-gray-400 mb-6">This area is restricted to authorized university administrators only.</p>
            <button onclick="document.querySelector('[data-tab=home]').click()"
                class="text-indigo-400 hover:text-indigo-300 font-medium">Return Home</button>
        </div>
    </div>

    <!-- Main Content -->
    <main class="pt-28 pb-12 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto relative z-10">

        <!-- Header Dynamic Title -->
        <div class="flex items-end justify-between mb-8 pb-4 border-b border-white/5">
            <div>
                <h2 id="pageTitle" class="text-3xl font-bold text-white">Welcome</h2>
                <p id="pageSubtitle" class="text-gray-400 mt-1">Manage and verify digital academic credentials</p>
            </div>
        </div>

        <!-- ================= HOME VIEW (Search Here) ================= -->
        <section id="homeView" class="view hidden">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center min-h-[50vh]">
                <div class="space-y-8">
                    <div
                        class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-indigo-500/10 border border-indigo-500/20 text-indigo-400 text-sm font-medium">
                        <span class="flex h-2 w-2 relative">
                            <span
                                class="animate-ping absolute inline-flex h-full w-full rounded-full bg-indigo-400 opacity-75"></span>
                            <span class="relative inline-flex rounded-full h-2 w-2 bg-indigo-500"></span>
                        </span>
                        Live on zkSync Era Testnet
                    </div>

                    <!-- ENIAD Logo -->
                    <div>
                        <img src="eniad-logo.png" alt="ENIAD Logo" class="h-24 w-auto brightness-110 drop-shadow-2xl">
                    </div>

                    <h1 class="text-5xl lg:text-6xl font-bold leading-tight">
                        Verify Diplomas <br>
                        <span
                            class="text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-purple-400">Instantly.</span>
                    </h1>
                    <p class="text-lg text-gray-400 leading-relaxed max-w-lg">
                        Enter a Certificate Hash or Student ID below to verify authenticity directly on the blockchain.
                    </p>

                    <!-- SEARCH BAR -->
                    <div class="relative max-w-lg">
                        <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-gray-400">
                            <ion-icon name="shield-checkmark-outline"></ion-icon>
                        </div>
                        <input type="text" id="verifyInput"
                            class="w-full bg-white/5 border border-white/10 text-white pl-11 pr-24 py-4 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:bg-white/10 transition-all placeholder-gray-500 shadow-xl"
                            placeholder="Paste Hash (0x...) or Student ID">
                        <button id="verifyBtn"
                            class="absolute right-2 top-2 bottom-2 bg-indigo-600 hover:bg-indigo-500 text-white px-6 rounded-lg font-medium transition-colors shadow-lg">
                            Verify
                        </button>
                    </div>

                    <div class="pt-4 flex items-center gap-4 text-sm text-gray-500">
                        <div class="flex -space-x-2">
                            <div
                                class="w-8 h-8 rounded-full bg-gray-800 border-2 border-gray-900 flex items-center justify-center text-xs">
                                üéì</div>
                            <div
                                class="w-8 h-8 rounded-full bg-gray-800 border-2 border-gray-900 flex items-center justify-center text-xs">
                                üìú</div>
                            <div
                                class="w-8 h-8 rounded-full bg-gray-800 border-2 border-gray-900 flex items-center justify-center text-xs">
                                üîê</div>
                        </div>
                        <p>Secured by Ethereum & zkSync</p>
                    </div>
                </div>

                <!-- 3D Certificate Demo Container -->
                <div class="relative">
                    <div class="certificate-3d-container">
                        <!-- Floating Particles -->
                        <div class="particle"></div>
                        <div class="particle"></div>
                        <div class="particle"></div>
                        <div class="particle"></div>
                        <div class="particle"></div>

                        <!-- Glowing Ring --\>

                        <!-- 3D Certificate -->
                        <div class="certificate-3d">
                            <!-- Glow ring inside certificate so it moves together -->
                            <div class="glow-ring"></div>

                            <!-- Front Face - Elegant Landscape A4 -->
                            <div class="certificate-3d-face certificate-3d-front">
                                <!-- Decorative Corner Elements -->
                                <div class="absolute top-2 left-2 w-8 h-8 border-l-2 border-t-2"
                                    style="border-color: #c9a227;"></div>
                                <div class="absolute top-2 right-2 w-8 h-8 border-r-2 border-t-2"
                                    style="border-color: #c9a227;"></div>
                                <div class="absolute bottom-2 left-2 w-8 h-8 border-l-2 border-b-2"
                                    style="border-color: #c9a227;"></div>
                                <div class="absolute bottom-2 right-2 w-8 h-8 border-r-2 border-b-2"
                                    style="border-color: #c9a227;"></div>

                                <!-- Header with Logo -->
                                <div class="flex items-center justify-between mb-1">
                                    <!-- Left: ENIAD Logo -->
                                    <div class="flex items-center gap-2">
                                        <img src="eniad-logo.png" alt="ENIAD" class="w-12 h-12 object-contain" />
                                    </div>

                                    <!-- Center: Title -->
                                    <div class="text-center flex-1 px-2">
                                        <p class="text-[6px] uppercase tracking-[0.2em] mb-0.5" style="color: #8b4513;">
                                            √âcole Nationale de l'Intelligence Artificielle et du Digital
                                        </p>
                                        <h1 class="text-sm font-bold uppercase tracking-widest"
                                            style="color: #1e3a5f; font-family: Georgia, serif;">
                                            Certificate of Achievement
                                        </h1>
                                    </div>

                                    <!-- Right: Degree Badge -->
                                    <div class="px-3 py-1 rounded-full text-[7px] font-bold uppercase"
                                        style="background: linear-gradient(135deg, #c9a227, #ffd700); color: #1e3a5f; box-shadow: 0 2px 4px rgba(201,162,39,0.3);">
                                        Diploma
                                    </div>
                                </div>

                                <!-- Elegant Divider -->
                                <div class="flex items-center gap-2 my-1">
                                    <div class="flex-1 h-px"
                                        style="background: linear-gradient(90deg, transparent, #c9a227);"></div>
                                    <div class="w-1.5 h-1.5 rotate-45" style="background: #c9a227;"></div>
                                    <div class="flex-1 h-px"
                                        style="background: linear-gradient(90deg, #c9a227, transparent);"></div>
                                </div>

                                <!-- Main Content -->
                                <div class="flex-1 flex gap-4">
                                    <!-- Left: Certificate Content -->
                                    <div class="flex-1 flex flex-col justify-center text-center px-2">
                                        <p class="text-[7px] italic mb-1" style="color: #666;">This is to certify that
                                        </p>

                                        <!-- Student Name with Elegant Font -->
                                        <h2 id="demo3dName" class="text-xl py-1 mb-1"
                                            style="color: #1e3a5f; font-family: 'Playfair Display', Georgia, serif; font-weight: 600; font-style: italic; border-bottom: 2px solid #c9a227;">
                                            Sample Student Name
                                        </h2>

                                        <p class="text-[6px] mt-1" style="color: #666;">has successfully completed the
                                            requirements for the degree of</p>

                                        <h3 id="demo3dMajor" class="text-sm font-bold mt-1"
                                            style="color: #8b4513; font-family: Georgia, serif;">
                                            Engineering in IRSI
                                        </h3>

                                        <!-- Year & ID in Elegant Style -->
                                        <div class="flex justify-center gap-6 mt-2 text-[6px]">
                                            <span style="color: #666;">
                                                <span style="color: #c9a227;">‚¨•</span> Year: <strong id="demo3dYear"
                                                    style="color: #1e3a5f;">2025</strong>
                                            </span>
                                            <span style="color: #666;">
                                                <span style="color: #c9a227;">‚¨•</span> ID: <strong id="demo3dIds"
                                                    style="color: #1e3a5f;">CNI / APOGEE</strong>
                                            </span>
                                        </div>
                                    </div>

                                    <!-- Right: QR Code -->
                                    <div class="flex flex-col items-center justify-center">
                                        <div id="demo3dQRCode"
                                            class="w-16 h-16 bg-white rounded-lg p-1 flex items-center justify-center shadow-md"
                                            style="border: 2px solid #c9a227;">
                                            <ion-icon name="qr-code" class="text-3xl"
                                                style="color: #1e3a5f;"></ion-icon>
                                        </div>
                                        <p class="text-[5px] mt-1 uppercase tracking-wider" style="color: #c9a227;">
                                            Verify</p>
                                    </div>
                                </div>

                                <!-- Signatures -->
                                <div class="flex justify-between items-end px-4 mt-2">
                                    <!-- Left Signature -->
                                    <div class="text-center">
                                        <div class="h-6 flex items-end justify-center"
                                            style="font-family: 'Brush Script MT', cursive; font-size: 14px; color: #1e3a5f;">
                                            M. Ilyas
                                        </div>
                                        <div class="border-t w-20 text-[5px] uppercase pt-0.5"
                                            style="border-color: #c9a227; color: #666;">
                                            <strong style="color: #1e3a5f;">MAJDOUBI ILYAS</strong><br />Issuer
                                        </div>
                                    </div>

                                    <!-- Right Signature -->
                                    <div class="text-center">
                                        <div class="h-6 flex items-end justify-center"
                                            style="font-family: 'Brush Script MT', cursive; font-size: 14px; color: #1e3a5f;">
                                            N. Hilali
                                        </div>
                                        <div class="border-t w-20 text-[5px] uppercase pt-0.5"
                                            style="border-color: #c9a227; color: #666;">
                                            <strong style="color: #1e3a5f;">EL HILALI NABIL</strong><br />Director
                                        </div>
                                    </div>
                                </div>

                                <!-- Hash at Bottom - Clean Style -->
                                <div class="text-center mt-2 pt-1" style="border-top: 1px dashed #c9a227;">
                                    <code id="demo3dHash" class="text-[5px] tracking-wider"
                                        style="color: #999; font-family: monospace;">
                                        0xd7e4c88366edddc5bf3bfb182aa3ec2e0b2892f15829f6cacdb0a1e3b1fd45ee
                                    </code>
                                </div>
                            </div>

                            <!-- Back Face -->
                            <div class="certificate-3d-face certificate-3d-back">
                                <div class="flex items-center justify-center gap-6 p-6">
                                    <!-- Left: Blockchain Info -->
                                    <div class="text-center">
                                        <ion-icon name="cube-outline" class="text-4xl"
                                            style="color: #c9a227;"></ion-icon>
                                        <p class="text-sm font-medium text-white mt-2">Blockchain Verified</p>
                                        <p class="text-xs mt-1" style="color: #c9a227;">zkSync Era Testnet</p>
                                    </div>

                                    <!-- Center: QR -->
                                    <div class="w-24 h-24 bg-white rounded-lg p-2 flex items-center justify-center">
                                        <ion-icon name="qr-code" class="text-5xl" style="color: #1e3a5f;"></ion-icon>
                                    </div>

                                    <!-- Right: Security Info -->
                                    <div class="text-center space-y-2">
                                        <div class="flex items-center gap-1">
                                            <ion-icon name="shield-checkmark" class="text-green-400"></ion-icon>
                                            <span class="text-xs text-green-400">Tamper-proof</span>
                                        </div>
                                        <div class="flex items-center gap-1">
                                            <ion-icon name="globe-outline" class="text-blue-400"></ion-icon>
                                            <span class="text-xs text-blue-400">Globally Verifiable</span>
                                        </div>
                                        <div class="flex items-center gap-1">
                                            <ion-icon name="lock-closed" class="text-purple-400"></ion-icon>
                                            <span class="text-xs text-purple-400">Immutable</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Info Text -->
                    <p class="text-center text-gray-500 text-sm mt-4">
                        <ion-icon name="finger-print-outline" class="align-middle mr-1"></ion-icon>
                        Immutable ‚Ä¢ Tamper-proof ‚Ä¢ Globally Verifiable
                    </p>
                </div>
            </div>
        </section>

        <!-- ================= ABOUT VIEW ================= -->
        <section id="aboutView" class="view hidden">
            <div class="max-w-5xl mx-auto space-y-12">

                <!-- School Header with Logo -->
                <div class="flex flex-col items-center text-center space-y-6">
                    <div class="p-6 rounded-3xl bg-white/5 border border-white/10 relative group">
                        <div
                            class="absolute inset-0 bg-indigo-500/20 blur-xl rounded-full opacity-50 group-hover:opacity-70 transition-opacity">
                        </div>
                        <img src="eniad-logo.png" alt="ENIAD Logo"
                            class="w-48 h-auto relative z-10 brightness-110 drop-shadow-2xl">
                    </div>

                    <div class="space-y-2">
                        <h2
                            class="text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-300">
                            √âcole Nationale de l'Intelligence Artificielle et du Digital
                        </h2>
                        <a href="https://maps.google.com/?q=ENIAD+Berkane" target="_blank"
                            class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-indigo-500/10 text-indigo-300 text-sm font-medium hover:bg-indigo-500/20 transition-colors">
                            <ion-icon name="location-outline"></ion-icon> Berkane, Maroc
                        </a>
                    </div>

                    <!-- Nav Tags -->
                    <div class="flex flex-wrap justify-center gap-3">
                        <span
                            class="px-4 py-2 rounded-xl bg-gray-800/50 border border-gray-700 text-gray-400 text-sm hover:text-white hover:border-indigo-500/50 transition-all cursor-default">Formations</span>
                        <span
                            class="px-4 py-2 rounded-xl bg-gray-800/50 border border-gray-700 text-gray-400 text-sm hover:text-white hover:border-indigo-500/50 transition-all cursor-default">Recherche</span>
                        <span
                            class="px-4 py-2 rounded-xl bg-gray-800/50 border border-gray-700 text-gray-400 text-sm hover:text-white hover:border-indigo-500/50 transition-all cursor-default">Coop√©ration</span>
                        <span
                            class="px-4 py-2 rounded-xl bg-gray-800/50 border border-gray-700 text-gray-400 text-sm hover:text-white hover:border-indigo-500/50 transition-all cursor-default">Gouvernance</span>
                        <span
                            class="px-4 py-2 rounded-xl bg-gray-800/50 border border-gray-700 text-gray-400 text-sm hover:text-white hover:border-indigo-500/50 transition-all cursor-default">Espace
                            Etudiant</span>
                        <span
                            class="px-4 py-2 rounded-xl bg-gray-800/50 border border-gray-700 text-gray-400 text-sm hover:text-white hover:border-indigo-500/50 transition-all cursor-default">Offres
                            & Concours</span>
                    </div>
                </div>

                <!-- Description & Info Grid -->
                <div class="grid md:grid-cols-3 gap-8 items-start">

                    <!-- Description -->
                    <div class="md:col-span-2 glass p-8 rounded-3xl space-y-6">
                        <div class="flex items-center gap-3 mb-2">
                            <ion-icon name="information-circle-outline" class="text-2xl text-indigo-400"></ion-icon>
                            <h3 class="text-xl font-bold">√Ä propos de l'ENIAD</h3>
                        </div>
                        <div class="space-y-4 text-gray-300 leading-relaxed text-lg">
                            <p>
                                Universit√© Mohammed I·µâ ≥ constitue un ensemble d'√©tablissements de la r√©gion de
                                l'Oriental, au Maroc, dont la majorit√© se trouve √† Oujda.
                            </p>
                            <div class="flex items-center gap-3 mt-4 pt-4 border-t border-white/5">
                                <span
                                    class="bg-indigo-500/20 text-indigo-300 px-3 py-1 rounded text-sm font-mono">Cr√©ation
                                    : 1978</span>
                            </div>
                        </div>
                    </div>

                    <!-- Contact -->
                    <div class="glass p-8 rounded-3xl space-y-6 h-full">
                        <div class="flex items-center gap-3 mb-2">
                            <ion-icon name="call-outline" class="text-2xl text-purple-400"></ion-icon>
                            <h3 class="text-xl font-bold">Contact</h3>
                        </div>
                        <ul class="space-y-4">
                            <li class="flex items-center gap-4 group">
                                <div
                                    class="w-10 h-10 rounded-lg bg-gray-800 flex items-center justify-center text-gray-400 group-hover:bg-purple-500/20 group-hover:text-purple-400 transition-colors">
                                    <ion-icon name="call"></ion-icon>
                                </div>
                                <span class="text-gray-300 font-mono">+212 536</span>
                            </li>
                            <li class="flex items-center gap-4 group">
                                <div
                                    class="w-10 h-10 rounded-lg bg-gray-800 flex items-center justify-center text-gray-400 group-hover:bg-purple-500/20 group-hover:text-purple-400 transition-colors">
                                    <ion-icon name="mail"></ion-icon>
                                </div>
                                <span class="text-gray-300 font-mono">eniad@ump.ac.ma</span>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="w-full h-px bg-gradient-to-r from-transparent via-gray-700 to-transparent my-8"></div>

                <!-- Digital Certification System Section -->
                <div class="space-y-8">
                    <div class="text-center">
                        <h3 class="text-2xl font-bold mb-2">Digital Certification Initiative</h3>
                        <p class="text-gray-400">ENIAD leverages blockchain technology to secure academic credentials.
                        </p>
                    </div>

                    <div class="grid md:grid-cols-3 gap-6">
                        <div class="bg-gray-800/40 p-6 rounded-2xl flex items-start gap-4 ring-1 ring-white/5">
                            <div
                                class="mt-1 w-10 h-10 rounded-lg bg-indigo-500/20 flex items-center justify-center flex-shrink-0 text-indigo-400">
                                <ion-icon name="finger-print"></ion-icon>
                            </div>
                            <div>
                                <h4 class="font-bold text-white mb-1">Immutable Record</h4>
                                <p class="text-sm text-gray-400">Certificates are stored on zkSync, creating a
                                    permanent, tamper-proof history.</p>
                            </div>
                        </div>

                        <div class="bg-gray-800/40 p-6 rounded-2xl flex items-start gap-4 ring-1 ring-white/5">
                            <div
                                class="mt-1 w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center flex-shrink-0 text-purple-400">
                                <ion-icon name="globe"></ion-icon>
                            </div>
                            <div>
                                <h4 class="font-bold text-white mb-1">Global Verification</h4>
                                <p class="text-sm text-gray-400">Instantly verifiable by employers and institutions
                                    worldwide via QR code or hash.</p>
                            </div>
                        </div>

                        <div class="bg-gray-800/40 p-6 rounded-2xl flex items-start gap-4 ring-1 ring-white/5">
                            <div
                                class="mt-1 w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center flex-shrink-0 text-green-400">
                                <ion-icon name="shield-checkmark"></ion-icon>
                            </div>
                            <div>
                                <h4 class="font-bold text-white mb-1">Fraud Proof</h4>
                                <p class="text-sm text-gray-400">Cryptographic signatures ensure that only authorized
                                    university admins can issue degrees.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Technical Footer -->
                <div
                    class="glass p-8 rounded-3xl flex flex-col md:flex-row items-center justify-between gap-8 mt-12 bg-gray-800/60">
                    <div class="space-y-4">
                        <h3 class="text-lg font-bold text-white border-l-4 border-indigo-500 pl-3">Built with Modern
                            Tech</h3>
                        <div class="flex flex-wrap gap-3">
                            <span
                                class="px-3 py-1 rounded-full bg-gray-700 text-xs font-mono text-indigo-300">Solidity</span>
                            <span class="px-3 py-1 rounded-full bg-gray-700 text-xs font-mono text-indigo-300">zkSync
                                Era</span>
                            <span
                                class="px-3 py-1 rounded-full bg-gray-700 text-xs font-mono text-indigo-300">Ethers.js</span>
                            <span
                                class="px-3 py-1 rounded-full bg-gray-700 text-xs font-mono text-indigo-300">IPFS</span>
                        </div>
                    </div>
                    <div class="flex items-center gap-4 text-right">
                        <div>
                            <p class="text-xs text-gray-500 uppercase tracking-wider mb-1">Developed by</p>
                            <h4 class="text-sm font-bold text-white">EL HILALI NABIL & ILYAS MAJDOUBI</h4>
                            <p class="text-xs text-indigo-400">Blockchain Engineering Students</p>
                        </div>
                        <div
                            class="w-12 h-12 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-bold text-lg shadow-lg">
                            <ion-icon name="code-slash-outline"></ion-icon>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ================= ADMIN VIEW ================= -->
        <section id="adminView" class="view hidden">
            <div class="max-w-7xl mx-auto">

                <!-- ========== STATISTICS DASHBOARD ========== -->
                <div class="glass p-6 rounded-2xl mb-6">
                    <h3 class="text-lg font-bold mb-4 flex items-center gap-2" style="color: #c9a227;">
                        <ion-icon name="stats-chart-outline"></ion-icon>
                        Certificate Statistics
                    </h3>

                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                        <!-- Total Certificates -->
                        <div class="bg-gray-800/50 rounded-xl p-4 border border-gray-700">
                            <div class="flex items-center gap-3">
                                <div class="w-12 h-12 rounded-lg flex items-center justify-center"
                                    style="background: linear-gradient(135deg, #c9a227, #b8962b);">
                                    <ion-icon name="ribbon-outline" class="text-2xl text-white"></ion-icon>
                                </div>
                                <div>
                                    <p class="text-xs text-gray-400 uppercase tracking-wide">Total Issued</p>
                                    <p id="statsTotalCerts" class="text-2xl font-bold" style="color: #c9a227;">--</p>
                                </div>
                            </div>
                        </div>

                        <!-- By Degree Type -->
                        <div class="bg-gray-800/50 rounded-xl p-4 border border-gray-700">
                            <p class="text-xs text-gray-400 uppercase tracking-wide mb-2">By Degree Type</p>
                            <div class="space-y-1 text-sm">
                                <div class="flex justify-between">
                                    <span class="text-gray-300">Diploma</span>
                                    <span id="statsDiploma" class="font-medium" style="color: #c9a227;">--</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-300">Master</span>
                                    <span id="statsMaster" class="font-medium" style="color: #c9a227;">--</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-300">PhD</span>
                                    <span id="statsPhd" class="font-medium" style="color: #c9a227;">--</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-300">Achievement</span>
                                    <span id="statsAchievement" class="font-medium" style="color: #c9a227;">--</span>
                                </div>
                            </div>
                        </div>

                        <!-- By Major -->
                        <div class="bg-gray-800/50 rounded-xl p-4 border border-gray-700">
                            <p class="text-xs text-gray-400 uppercase tracking-wide mb-2">By Major</p>
                            <div class="space-y-1 text-sm">
                                <div class="flex justify-between">
                                    <span class="text-gray-300">IRSI</span>
                                    <span id="statsIRSI" class="font-medium" style="color: #c9a227;">--</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-300">ROC</span>
                                    <span id="statsROC" class="font-medium" style="color: #c9a227;">--</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-300">AI</span>
                                    <span id="statsAI" class="font-medium" style="color: #c9a227;">--</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-300">GI</span>
                                    <span id="statsGI" class="font-medium" style="color: #c9a227;">--</span>
                                </div>
                            </div>
                        </div>

                        <!-- Refresh Button -->
                        <div
                            class="bg-gray-800/50 rounded-xl p-4 border border-gray-700 flex flex-col justify-center items-center">
                            <button onclick="refreshStatistics()"
                                class="px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-all hover:opacity-90"
                                style="background: linear-gradient(135deg, #c9a227, #b8962b); color: #1e3a5f;">
                                <ion-icon name="refresh-outline"></ion-icon> Refresh Stats
                            </button>
                            <p id="statsLastUpdate" class="text-xs text-gray-500 mt-2">Last updated: --</p>
                        </div>
                    </div>
                </div>

                <!-- Admin Tab Navigation -->
                <div class="flex gap-2 mb-6 p-1 bg-gray-800/50 rounded-2xl w-fit">
                    <button onclick="switchAdminTab('issue')" id="adminTabIssue"
                        class="admin-tab active px-6 py-2.5 rounded-xl text-sm font-medium flex items-center gap-2 transition-all">
                        <ion-icon name="add-circle-outline"></ion-icon> Issue New
                    </button>
                    <button onclick="switchAdminTab('revoke')" id="adminTabRevoke"
                        class="admin-tab px-6 py-2.5 rounded-xl text-sm font-medium flex items-center gap-2 transition-all">
                        <ion-icon name="ban-outline"></ion-icon> Revoke
                    </button>
                    <button onclick="switchAdminTab('update')" id="adminTabUpdate"
                        class="admin-tab px-6 py-2.5 rounded-xl text-sm font-medium flex items-center gap-2 transition-all">
                        <ion-icon name="create-outline"></ion-icon> Update
                    </button>
                </div>

                <div class="grid grid-cols-1 xl:grid-cols-5 gap-6">

                    <!-- Left Panel: Forms -->
                    <div class="xl:col-span-2 space-y-4">

                        <!-- ========== ISSUE PANEL ========== -->
                        <div id="adminIssuePanel" class="admin-panel glass p-6 rounded-2xl">
                            <h3 class="text-lg font-bold mb-5 flex items-center gap-2" style="color: #c9a227;">
                                <ion-icon name="ribbon-outline"></ion-icon>
                                Issue New Certificate
                            </h3>

                            <form id="issueForm" class="space-y-4">
                                <div>
                                    <label class="block text-xs font-medium text-gray-400 mb-1.5">Full Name</label>
                                    <input type="text" id="studentName" required placeholder="Enter student name"
                                        class="w-full bg-gray-900/70 border border-gray-600 rounded-lg px-4 py-3 focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 outline-none transition-all">
                                </div>
                                <div class="grid grid-cols-2 gap-3">
                                    <div>
                                        <label class="block text-xs font-medium text-gray-400 mb-1.5">CNI</label>
                                        <input type="text" id="studentCni" required placeholder="CNI Number"
                                            class="w-full bg-gray-900/70 border border-gray-600 rounded-lg px-4 py-3 focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 outline-none transition-all">
                                    </div>
                                    <div>
                                        <label class="block text-xs font-medium text-gray-400 mb-1.5">APOGEE</label>
                                        <input type="text" id="studentApogee" required placeholder="APOGEE Code"
                                            class="w-full bg-gray-900/70 border border-gray-600 rounded-lg px-4 py-3 focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 outline-none transition-all">
                                    </div>
                                </div>
                                <div class="grid grid-cols-2 gap-3">
                                    <div>
                                        <label class="block text-xs font-medium text-gray-400 mb-1.5">Major</label>
                                        <select id="majorSelect" required
                                            class="w-full bg-gray-900/70 border border-gray-600 rounded-lg px-4 py-3 focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 outline-none appearance-none transition-all">
                                            <option value="" disabled selected>Select...</option>
                                            <option value="IRSI">IRSI</option>
                                            <option value="ROC">ROC</option>
                                            <option value="AI">AI</option>
                                            <option value="GI">GI</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-xs font-medium text-gray-400 mb-1.5">Year</label>
                                        <input type="number" id="gradYear" value="2025" min="2000" max="2100" required
                                            class="w-full bg-gray-900/70 border border-gray-600 rounded-lg px-4 py-3 focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 outline-none transition-all">
                                    </div>
                                </div>
                                <div class="grid grid-cols-2 gap-3">
                                    <div>
                                        <label class="block text-xs font-medium text-gray-400 mb-1.5">Degree
                                            Type</label>
                                        <select id="degreeType" required
                                            class="w-full bg-gray-900/70 border border-gray-600 rounded-lg px-4 py-3 focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 outline-none appearance-none transition-all">
                                            <option value="Diploma" selected>Diploma</option>
                                            <option value="Master">Master</option>
                                            <option value="PhD">PhD</option>
                                            <option value="Achievement">Achievement Certificate</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-xs font-medium text-gray-400 mb-1.5">Issuer</label>
                                        <input type="text" id="issuerName" value="MAJDOUBI ILYAS" required
                                            class="w-full bg-gray-900/70 border border-gray-600 rounded-lg px-4 py-3 focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 outline-none transition-all">
                                    </div>
                                </div>

                                <button type="submit" id="issueBtn"
                                    class="w-full mt-4 text-white font-medium py-3.5 rounded-xl shadow-lg transition-all flex justify-center items-center gap-2"
                                    style="background: linear-gradient(135deg, #c9a227, #b8962b);">
                                    <ion-icon name="checkmark-circle-outline"></ion-icon> Issue Certificate
                                </button>
                            </form>

                            <div id="issueResult" class="hidden mt-4 p-3 rounded-lg text-center text-sm"
                                style="background: rgba(201, 162, 39, 0.1); border: 1px solid #c9a227; color: #c9a227;">
                                <span id="issueMsg">Processing...</span>
                            </div>
                        </div>

                        <!-- ========== REVOKE PANEL ========== -->
                        <div id="adminRevokePanel" class="admin-panel hidden glass p-6 rounded-2xl">
                            <h3 class="text-lg font-bold mb-5 flex items-center gap-2 text-red-400">
                                <ion-icon name="close-circle-outline"></ion-icon>
                                Revoke Certificate
                            </h3>

                            <form id="revokeForm" class="space-y-4">
                                <div>
                                    <label class="block text-xs font-medium text-gray-400 mb-1.5">Certificate
                                        Hash</label>
                                    <input type="text" id="revokeHash" required placeholder="0x..."
                                        class="w-full bg-gray-900/70 border border-gray-600 rounded-lg px-4 py-3 focus:ring-2 focus:ring-red-500/50 focus:border-red-500 outline-none font-mono text-sm transition-all">
                                </div>
                                <div>
                                    <label class="block text-xs font-medium text-gray-400 mb-1.5">Reason
                                        (Optional)</label>
                                    <textarea id="revokeReason" rows="2" placeholder="Reason for revocation..."
                                        class="w-full bg-gray-900/70 border border-gray-600 rounded-lg px-4 py-3 focus:ring-2 focus:ring-red-500/50 focus:border-red-500 outline-none resize-none transition-all"></textarea>
                                </div>

                                <div class="p-3 rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 text-xs">
                                    <ion-icon name="warning-outline" class="align-middle mr-1"></ion-icon>
                                    <strong>Warning:</strong> This action cannot be undone. The certificate will be
                                    permanently revoked on the blockchain.
                                </div>

                                <button type="submit" id="revokeBtn"
                                    class="w-full mt-2 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-500 hover:to-red-600 text-white font-medium py-3.5 rounded-xl shadow-lg transition-all flex justify-center items-center gap-2">
                                    <ion-icon name="ban-outline"></ion-icon> Revoke Certificate
                                </button>
                            </form>

                            <div id="revokeResult"
                                class="hidden mt-4 p-3 rounded-lg bg-red-500/10 border border-red-500/30 text-center text-sm text-red-400">
                                <span id="revokeMsg">Processing...</span>
                            </div>
                        </div>

                        <!-- ========== UPDATE PANEL ========== -->
                        <div id="adminUpdatePanel" class="admin-panel hidden glass p-6 rounded-2xl">
                            <h3 class="text-lg font-bold mb-5 flex items-center gap-2 text-blue-400">
                                <ion-icon name="refresh-outline"></ion-icon>
                                Update Certificate
                            </h3>

                            <!-- Step 1: Lookup -->
                            <div id="updateLookupSection" class="space-y-4">
                                <div>
                                    <label class="block text-xs font-medium text-gray-400 mb-1.5">Certificate Hash (to
                                        lookup)</label>
                                    <div class="flex gap-2">
                                        <input type="text" id="updateLookupHash" required placeholder="0x..."
                                            class="flex-1 bg-gray-900/70 border border-gray-600 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 outline-none font-mono text-sm transition-all">
                                        <button type="button" onclick="lookupCertificateForUpdate()"
                                            class="px-4 py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors flex items-center gap-2">
                                            <ion-icon name="search-outline"></ion-icon> Find
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Step 2: Edit Form (hidden initially) -->
                            <form id="updateForm" class="hidden space-y-4 mt-4 pt-4 border-t border-gray-700">
                                <div
                                    class="p-3 rounded-lg bg-blue-500/10 border border-blue-500/30 text-blue-400 text-xs mb-4">
                                    <ion-icon name="information-circle-outline" class="align-middle mr-1"></ion-icon>
                                    Editing certificate. Modify the fields below and click Update.
                                </div>

                                <div>
                                    <label class="block text-xs font-medium text-gray-400 mb-1.5">Full Name</label>
                                    <input type="text" id="updateName" required
                                        class="w-full bg-gray-900/70 border border-gray-600 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 outline-none transition-all">
                                </div>
                                <div class="grid grid-cols-2 gap-3">
                                    <div>
                                        <label class="block text-xs font-medium text-gray-400 mb-1.5">Major</label>
                                        <select id="updateMajor" required
                                            class="w-full bg-gray-900/70 border border-gray-600 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 outline-none appearance-none transition-all">
                                            <option value="IRSI">IRSI</option>
                                            <option value="ROC">ROC</option>
                                            <option value="AI">AI</option>
                                            <option value="GI">GI</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-xs font-medium text-gray-400 mb-1.5">Year</label>
                                        <input type="number" id="updateYear" min="2000" max="2100" required
                                            class="w-full bg-gray-900/70 border border-gray-600 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 outline-none transition-all">
                                    </div>
                                </div>

                                <button type="submit" id="updateBtn"
                                    class="w-full mt-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-500 hover:to-blue-600 text-white font-medium py-3.5 rounded-xl shadow-lg transition-all flex justify-center items-center gap-2">
                                    <ion-icon name="save-outline"></ion-icon> Save Changes
                                </button>
                            </form>

                            <div id="updateResult"
                                class="hidden mt-4 p-3 rounded-lg bg-blue-500/10 border border-blue-500/30 text-center text-sm text-blue-400">
                                <span id="updateMsg">Processing...</span>
                            </div>
                        </div>
                    </div>

                    <!-- Right Panel: Certificate Preview (A4 Landscape) -->
                    <div class="xl:col-span-3">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-bold flex items-center gap-2">
                                <ion-icon name="document-outline" style="color: #c9a227;"></ion-icon>
                                Certificate Preview
                            </h3>
                            <span class="text-xs text-gray-500">A4 Landscape (3508√ó2480 px)</span>
                        </div>

                        <!-- A4 Preview Container - Fixed A4 Landscape, No Scroll -->
                        <div class="rounded-2xl border border-gray-700 bg-gray-900/30" style="overflow: hidden;">

                            <!-- Placeholder -->
                            <div id="diplomaPlaceholder"
                                class="flex flex-col items-center justify-center text-gray-500 p-12 text-center"
                                style="min-height: 400px;">
                                <ion-icon name="document-text-outline" class="text-5xl mb-4 opacity-40"></ion-icon>
                                <p class="text-sm">Fill out the form to generate a preview</p>
                                <p class="text-xs text-gray-600 mt-2">Certificate will appear here in A4 landscape
                                    format</p>
                            </div>

                            <!-- Actual A4 Landscape Certificate Preview - Auto-sized like home page -->
                            <div id="diplomaPreview" class="hidden flex items-center justify-center"
                                style="padding: 20px;">
                                <div id="issuedDiploma" class="mx-auto shadow-2xl relative"
                                    style="width: 700px; background: linear-gradient(145deg, #fffef7 0%, #faf6e8 100%); border: 5px solid #c9a227; outline: 2px solid #1e3a5f; outline-offset: 5px; padding: 20px 32px; display: flex; flex-direction: column; box-sizing: border-box;">

                                    <!-- Decorative Corner Elements -->
                                    <div class="absolute top-4 left-4 w-16 h-16 border-l-3 border-t-3"
                                        style="border-color: #c9a227; border-width: 3px 0 0 3px;"></div>
                                    <div class="absolute top-4 right-4 w-16 h-16 border-r-3 border-t-3"
                                        style="border-color: #c9a227; border-width: 3px 3px 0 0;"></div>
                                    <div class="absolute bottom-4 left-4 w-16 h-16 border-l-3 border-b-3"
                                        style="border-color: #c9a227; border-width: 0 0 3px 3px;"></div>
                                    <div class="absolute bottom-4 right-4 w-16 h-16 border-r-3 border-b-3"
                                        style="border-color: #c9a227; border-width: 0 3px 3px 0;"></div>

                                    <!-- Certificate Header -->
                                    <div class="flex items-center justify-between">
                                        <!-- Left: ENIAD Logo -->
                                        <div class="flex-shrink-0">
                                            <img src="eniad-logo.png" alt="ENIAD" class="w-20 h-20 object-contain" />
                                        </div>

                                        <!-- Center: Title -->
                                        <div class="text-center flex-1 px-4">
                                            <p class="text-sm uppercase tracking-[0.25em] mb-1" style="color: #8b4513;">
                                                √âcole Nationale de l'Intelligence Artificielle et du Digital
                                            </p>
                                            <h1 class="text-2xl font-bold uppercase tracking-widest"
                                                style="color: #1e3a5f; font-family: Georgia, serif;">
                                                Certificate of Achievement
                                            </h1>
                                        </div>

                                        <!-- Right: Degree Type Badge -->
                                        <div class="flex-shrink-0 text-center px-5 py-2 rounded-full"
                                            style="background: linear-gradient(135deg, #c9a227, #ffd700); color: #1e3a5f; box-shadow: 0 4px 6px rgba(201,162,39,0.3);">
                                            <span id="previewDegreeType"
                                                class="text-sm font-bold uppercase tracking-wide">Diploma</span>
                                        </div>
                                    </div>

                                    <!-- Elegant Divider -->
                                    <div class="flex items-center gap-4 my-4">
                                        <div class="flex-1 h-0.5"
                                            style="background: linear-gradient(90deg, transparent, #c9a227);"></div>
                                        <div class="w-3 h-3 rotate-45" style="background: #c9a227;"></div>
                                        <div class="flex-1 h-0.5"
                                            style="background: linear-gradient(90deg, #c9a227, transparent);"></div>
                                    </div>

                                    <!-- Certificate Body - Horizontal Layout -->
                                    <div class="flex-1 flex items-center">
                                        <!-- Left Side: Main Content -->
                                        <div class="flex-1 text-center py-4">
                                            <p class="text-lg italic" style="color: #666;">This is to certify that</p>

                                            <!-- Student Name with Playfair Display -->
                                            <h2 id="previewName" class="text-4xl py-3 px-6 my-3 inline-block"
                                                style="color: #1e3a5f; font-family: 'Playfair Display', Georgia, serif; font-weight: 600; font-style: italic; border-bottom: 3px solid #c9a227; min-width: 300px;">
                                                _____________________
                                            </h2>

                                            <p class="text-base mt-3" style="color: #666;">has successfully completed
                                                the requirements for the degree of</p>

                                            <h3 id="previewMajor" class="text-xl font-bold mt-3"
                                                style="color: #8b4513; font-family: Georgia, serif;">
                                                _______
                                            </h3>

                                            <!-- Year & ID Row -->
                                            <div class="flex justify-center gap-10 mt-5 text-base">
                                                <span style="color: #666;">
                                                    <span style="color: #c9a227;">‚¨•</span> Year: <strong
                                                        id="previewYear" style="color: #1e3a5f;">____</strong>
                                                </span>
                                                <span style="color: #666;">
                                                    <span style="color: #c9a227;">‚¨•</span> ID: <strong id="previewIds"
                                                        style="color: #1e3a5f;">______ / ______</strong>
                                                </span>
                                            </div>
                                        </div>

                                        <!-- Right Side: QR Code -->
                                        <div class="flex-shrink-0 pl-6 flex flex-col items-center">
                                            <div id="previewQRCode"
                                                class="w-32 h-32 bg-white rounded-lg border-3 flex items-center justify-center shadow-lg"
                                                style="border: 3px solid #c9a227;">
                                                <ion-icon name="qr-code" class="text-6xl"
                                                    style="color: #1e3a5f;"></ion-icon>
                                            </div>
                                            <p class="text-xs mt-2 uppercase tracking-wider" style="color: #c9a227;">
                                                Scan to Verify</p>
                                        </div>
                                    </div>

                                    <!-- Signatures Row -->
                                    <div class="flex justify-between items-end px-8 mt-4">
                                        <!-- Issuer Signature -->
                                        <div class="text-center">
                                            <div class="h-12 flex items-end justify-center"
                                                style="font-family: 'Brush Script MT', cursive; font-size: 28px; color: #1e3a5f;">
                                                M. Ilyas
                                            </div>
                                            <div class="border-t-2 w-40 text-xs uppercase pt-1"
                                                style="border-color: #c9a227; color: #666;">
                                                <strong id="previewIssuer" style="color: #1e3a5f;">MAJDOUBI
                                                    ILYAS</strong><br />Issuer
                                            </div>
                                        </div>

                                        <!-- Director Signature -->
                                        <div class="text-center">
                                            <div class="h-12 flex items-end justify-center"
                                                style="font-family: 'Brush Script MT', cursive; font-size: 28px; color: #1e3a5f;">
                                                N. Hilali
                                            </div>
                                            <div class="border-t-2 w-40 text-xs uppercase pt-1"
                                                style="border-color: #c9a227; color: #666;">
                                                <strong style="color: #1e3a5f;">EL HILALI NABIL</strong><br />Director
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Hash at Bottom - Clean Style -->
                                    <div class="text-center mt-4 pt-3" style="border-top: 2px dashed #c9a227;">
                                        <code id="previewHash"
                                            class="text-sm tracking-wider cursor-pointer hover:opacity-80"
                                            style="color: #999; font-family: monospace;" onclick="copyHash()"
                                            title="Click to copy">
                                            0x... (Generated after issuance)
                                        </code>
                                    </div>
                                </div>

                            </div>
                        </div>

                        <!-- Download Button - Outside container, appears after certificate is shown -->
                        <!-- Actions Buttons -->
                        <div id="downloadBtnContainer" class="hidden flex justify-center gap-4 mt-6">
                            <button onclick="openFullScreenPreview()"
                                class="px-6 py-3 rounded-xl text-white font-medium flex items-center gap-2 transition-all hover:bg-white/10 border border-white/20">
                                <ion-icon name="aspect-ratio-outline"></ion-icon> Full Screen Preview
                            </button>
                            <button onclick="downloadPDF('issuedDiploma')"
                                class="px-6 py-3 rounded-xl text-white font-medium flex items-center gap-2 transition-all hover:opacity-90 shadow-lg"
                                style="background: linear-gradient(135deg, #c9a227, #b8962b);">
                                <ion-icon name="download-outline"></ion-icon> Download PDF
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Full Screen Preview Modal -->
    <div id="fullScreenModal" class="fixed inset-0 z-[100] bg-gray-900 hidden flex flex-col">
        <!-- Toolbar -->
        <div class="flex items-center justify-between px-6 py-4 bg-gray-800 border-b border-gray-700">
            <h3 class="text-white font-bold">Certificate Preview</h3>
            <div class="flex items-center gap-4">
                <button onclick="downloadPDF('fullScreenCertificate')"
                    class="px-4 py-2 rounded-lg bg-amber-600 hover:bg-amber-500 text-white text-sm font-medium flex items-center gap-2">
                    <ion-icon name="download-outline"></ion-icon> Download PDF
                </button>
                <button onclick="closeFullScreenPreview()" class="text-gray-400 hover:text-white text-2xl">
                    <ion-icon name="close-outline"></ion-icon>
                </button>
            </div>
        </div>

        <!-- Preview Area - Centered and Auto-Sized -->
        <div class="flex-1 overflow-auto p-8 flex items-center justify-center bg-gray-900">
            <div id="fullScreenPreviewContainer" class="scale-100 origin-center transition-transform">
                <!-- Certificate will be cloned here -->
            </div>
        </div>
    </div>

    <!-- Certificate Verification Modal -->
    <div id="certificateModal" class="modal-overlay" onclick="closeModalOnOverlay(event)">
        <div class="modal-content relative">
            <button class="modal-close-btn" onclick="closeVerificationModal()">
                <ion-icon name="close"></ion-icon>
            </button>

            <!-- Success State -->
            <div id="modalVerificationResult" class="hidden">
                <div
                    class="bg-gradient-to-br from-green-500/10 to-emerald-500/5 rounded-t-2xl p-4 text-center border-b border-white/5">
                    <div class="verified-badge mx-auto">
                        <ion-icon name="shield-checkmark"></ion-icon>
                        Verified on Blockchain
                    </div>
                </div>

                <div id="modalDiploma" class="m-4 rounded-lg overflow-hidden shadow-xl"
                    style="background: linear-gradient(145deg, #fffef7 0%, #faf6e8 100%); border: 4px solid #c9a227; outline: 2px solid #1e3a5f; outline-offset: 4px;">
                    <div class="p-6 text-center">
                        <!-- Header -->
                        <div class="flex justify-center mb-2">
                            <svg width="40" height="40" viewBox="0 0 24 24" fill="none">
                                <circle cx="12" cy="8" r="6" stroke="#c9a227" stroke-width="2" fill="#ffd700" />
                                <path d="M8 14L6 22L12 18L18 22L16 14" stroke="#c9a227" stroke-width="2"
                                    fill="#c9a227" />
                            </svg>
                        </div>
                        <h1 class="text-2xl font-serif font-bold tracking-widest" style="color: #1e3a5f;">ENIAD</h1>
                        <p class="text-xs font-semibold tracking-[0.1em] uppercase italic" style="color: #c9a227;">
                            National School of Artificial Intelligence and Digitale
                        </p>
                        <p class="text-sm italic mt-1" style="color: #1e3a5f; font-family: Georgia, serif;">
                            Digital Certificate of Completion
                        </p>

                        <!-- Divider -->
                        <div class="w-full h-0.5 my-4"
                            style="background: linear-gradient(90deg, transparent, #c9a227, transparent);"></div>

                        <!-- Content -->
                        <p class="text-sm" style="color: #1e3a5f;">This certifies that</p>
                        <h2 id="modalCertName" class="text-xl font-serif italic font-bold py-2 px-4"
                            style="color: #1e3a5f; border-bottom: 2px solid #c9a227; display: inline-block;">
                            Student Name
                        </h2>
                        <p class="text-sm mt-2" style="color: #1e3a5f;">has successfully completed the requirements for
                            the major in</p>
                        <h3 id="modalCertMajor" class="text-lg font-bold mt-2" style="color: #1e3a5f;">IRSI</h3>

                        <!-- Year & ID -->
                        <div class="flex justify-center gap-6 mt-3 text-sm" style="color: #c9a227;">
                            <span><strong style="color: #1e3a5f;">Year:</strong> <span
                                    id="modalCertYear">--</span></span>
                            <span><strong style="color: #1e3a5f;">ID:</strong> <span id="modalCertIds">--</span></span>
                        </div>

                        <!-- Signatures -->
                        <div class="flex justify-between items-end pt-4 px-4">
                            <div class="text-center">
                                <div class="h-8 flex items-end justify-center"
                                    style="font-family: 'Brush Script MT', cursive; font-size: 18px; color: #1e3a5f;">
                                    M. Ilyas
                                </div>
                                <div class="border-t-2 w-24 text-[0.55rem] uppercase pt-0.5"
                                    style="border-color: #1e3a5f; color: #c9a227;">
                                    <strong style="color: #1e3a5f;">MAJDOUBI ILYAS</strong><br />Issuer
                                </div>
                            </div>

                            <!-- QR Code -->
                            <div id="modalQRCode"
                                class="w-16 h-16 bg-white rounded border-2 flex items-center justify-center"
                                style="border-color: #c9a227;">
                                <ion-icon name="qr-code" class="text-2xl" style="color: #1e3a5f;"></ion-icon>
                            </div>

                            <div class="text-center">
                                <div class="h-8 flex items-end justify-center"
                                    style="font-family: 'Brush Script MT', cursive; font-size: 18px; color: #1e3a5f;">
                                    N. Hilali
                                </div>
                                <div class="border-t-2 w-24 text-[0.55rem] uppercase pt-0.5"
                                    style="border-color: #1e3a5f; color: #c9a227;">
                                    <strong style="color: #1e3a5f;">EL HILALI NABIL</strong><br />School Director
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Actions -->
                <div class="p-4 rounded-b-2xl flex items-center justify-between"
                    style="background: rgba(201, 162, 39, 0.1);">
                    <div class="text-center flex-1">
                        <p class="text-[0.55rem] uppercase tracking-wider mb-0.5" style="color: #1e3a5f;">Certificate
                            Hash:</p>
                        <code id="modalCertHash" class="text-xs break-all cursor-pointer hover:opacity-80"
                            style="color: #c9a227;" onclick="copyModalHash()" title="Click to copy">0x...</code>
                    </div>
                    <div class="flex gap-3 ml-4">
                        <button onclick="closeVerificationModal()"
                            class="px-4 py-2 text-sm font-medium text-gray-400 hover:text-white transition-colors">
                            Close
                        </button>
                        <button onclick="downloadPDF('modalDiploma')"
                            class="px-4 py-2 text-sm font-medium text-white rounded-lg transition-colors flex items-center gap-2"
                            style="background: linear-gradient(135deg, #c9a227, #b8962b);">
                            <ion-icon name="download-outline"></ion-icon> Download PDF
                        </button>
                    </div>
                </div>
            </div>

            <!-- Revoked State -->
            <div id="modalVerificationRevoked" class="hidden p-8 text-center">
                <div class="w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto mb-6">
                    <ion-icon name="ban" class="text-5xl text-red-500"></ion-icon>
                </div>
                <h3 class="text-2xl font-bold text-red-500 mb-2">Certificate Revoked</h3>
                <p class="text-gray-400 mb-6">This certificate has been revoked and is no longer valid.</p>
                <button onclick="closeVerificationModal()"
                    class="px-6 py-2 text-sm font-medium bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors">
                    Close
                </button>
            </div>

            <!-- Error/Not Found State -->
            <div id="modalVerificationError" class="hidden p-8 text-center">
                <div class="w-20 h-20 bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-6">
                    <ion-icon name="search" class="text-5xl text-gray-400"></ion-icon>
                </div>
                <h3 class="text-2xl font-bold text-white mb-2">No Record Found</h3>
                <p class="text-gray-400 mb-2" id="modalErrorMessage">Check the ID or Hash and try again.</p>
                <p class="text-xs text-gray-500 mb-6">Make sure you're using a valid certificate hash or student ID.</p>
                <button onclick="closeVerificationModal()"
                    class="px-6 py-2 text-sm font-medium bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors">
                    Close
                </button>
            </div>
        </div>
    </div>

    <!-- JS -->
    <script src="config.js"></script>
    <script src="app.js"></script>

</body>

</html>